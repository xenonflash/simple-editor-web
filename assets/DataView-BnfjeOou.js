import{Y as z,m as M,e as K,d as w,c as m,a as e,b as R,o as f,_ as C,t as h,A as V,F as q,r as U,Z as O,p as J,f as E,x as P,w as X,$ as F,a0 as L,a1 as Y,X as Z,a2 as H,a3 as Q,K as W,P as x,a4 as ee,n as te,k as j}from"./index-Hub0u0VJ.js";var T=($=>($.STRING="string",$.NUMBER="number",$.BOOLEAN="boolean",$.DATE="date",$.JSON="json",$))(T||{});function B($,t,n){return{id:`var_${Date.now()}`,name:$,type:t,value:n,createdAt:new Date,updatedAt:new Date}}function G($,t){return{id:`table_${Date.now()}`,name:$,description:t,fields:[],records:[],createdAt:new Date,updatedAt:new Date}}function ne($,t){return{id:`field_${Date.now()}`,name:$,type:t,required:!1,defaultValue:le(t)}}function le($){switch($){case"string":return"";case"number":return 0;case"boolean":return!1;case"date":return new Date().toISOString();case"json":return{};default:return null}}const ae=z("data",()=>{const $=M([B("ç”¨æˆ·å",T.STRING,"admin"),B("ç™»å½•æ¬¡æ•°",T.NUMBER,0),B("æ˜¯å¦ç®¡ç†å‘˜",T.BOOLEAN,!0),B("æœ€åŽç™»å½•æ—¶é—´",T.DATE,new Date().toISOString())]),t=M([]),n=M(null),o=()=>{if(t.value.length===0){const d=G("ç”¨æˆ·è¡¨","å­˜å‚¨ç”¨æˆ·åŸºæœ¬ä¿¡æ¯");d.fields=[{id:"field_1",name:"ç”¨æˆ·å",type:T.STRING,required:!0,defaultValue:""},{id:"field_2",name:"é‚®ç®±",type:T.STRING,required:!0,defaultValue:""},{id:"field_3",name:"å¹´é¾„",type:T.NUMBER,required:!1,defaultValue:0},{id:"field_4",name:"æ˜¯å¦æ¿€æ´»",type:T.BOOLEAN,required:!1,defaultValue:!0},{id:"field_5",name:"æ³¨å†Œæ—¶é—´",type:T.DATE,required:!1,defaultValue:new Date().toISOString()}],d.records=[{id:"record_1",ç”¨æˆ·å:"å¼ ä¸‰",é‚®ç®±:"zhangsan@example.com",å¹´é¾„:25,æ˜¯å¦æ¿€æ´»:!0,æ³¨å†Œæ—¶é—´:"2024-01-15"},{id:"record_2",ç”¨æˆ·å:"æŽå››",é‚®ç®±:"lisi@example.com",å¹´é¾„:30,æ˜¯å¦æ¿€æ´»:!0,æ³¨å†Œæ—¶é—´:"2024-01-20"},{id:"record_3",ç”¨æˆ·å:"çŽ‹äº”",é‚®ç®±:"wangwu@example.com",å¹´é¾„:28,æ˜¯å¦æ¿€æ´»:!1,æ³¨å†Œæ—¶é—´:"2024-01-25"}],t.value.push(d);const u=G("äº§å“è¡¨","å­˜å‚¨äº§å“ä¿¡æ¯");u.fields=[{id:"field_6",name:"äº§å“åç§°",type:T.STRING,required:!0,defaultValue:""},{id:"field_7",name:"ä»·æ ¼",type:T.NUMBER,required:!0,defaultValue:0},{id:"field_8",name:"åº“å­˜",type:T.NUMBER,required:!1,defaultValue:0},{id:"field_9",name:"æ˜¯å¦ä¸Šæž¶",type:T.BOOLEAN,required:!1,defaultValue:!1}],u.records=[{id:"record_4",äº§å“åç§°:"iPhone 15",ä»·æ ¼:5999,åº“å­˜:100,æ˜¯å¦ä¸Šæž¶:!0},{id:"record_5",äº§å“åç§°:"MacBook Pro",ä»·æ ¼:12999,åº“å­˜:50,æ˜¯å¦ä¸Šæž¶:!0},{id:"record_6",äº§å“åç§°:"iPad Air",ä»·æ ¼:4399,åº“å­˜:80,æ˜¯å¦ä¸Šæž¶:!1}],t.value.push(u),t.value.length>0&&(n.value=t.value[0].id)}},a=K(()=>n.value&&t.value.find(d=>d.id===n.value)||null);function v(d,u,c){const _=B(d,u,c);return $.value.push(_),_}function y(d,u){const c=$.value.find(_=>_.id===d);return c?(Object.assign(c,u,{updatedAt:new Date}),!0):!1}function p(d){const u=$.value.findIndex(c=>c.id===d);return u===-1?!1:($.value.splice(u,1),!0)}function D(d,u){const c=G(d,u);return t.value.push(c),c}function S(d,u){const c=t.value.find(_=>_.id===d);return c?(Object.assign(c,u,{updatedAt:new Date}),!0):!1}function k(d){const u=t.value.findIndex(c=>c.id===d);return u===-1?!1:(t.value.splice(u,1),n.value===d&&(n.value=null),!0)}function A(d){return t.value.find(c=>c.id===d)?(n.value=d,!0):!1}function I(d,u,c){const _=t.value.find(g=>g.id===d);if(!_)return null;const i=ne(u,c);return _.fields.push(i),_.updatedAt=new Date,i}function N(d,u,c){const _=t.value.find(g=>g.id===d);if(!_)return!1;const i=_.fields.find(g=>g.id===u);return i?(Object.assign(i,c),_.updatedAt=new Date,!0):!1}function r(d,u){const c=t.value.find(g=>g.id===d);if(!c)return!1;const _=c.fields.findIndex(g=>g.id===u);if(_===-1)return!1;const i=c.fields[_].name;return c.fields.splice(_,1),c.records.forEach(g=>{delete g[i]}),c.updatedAt=new Date,!0}function s(d,u){const c=t.value.find(_=>_.id===d);return c?(c.records.push({...u,id:`record_${Date.now()}`}),c.updatedAt=new Date,!0):!1}function l(d,u,c){const _=t.value.find(i=>i.id===d);return!_||u<0||u>=_.records.length?!1:(Object.assign(_.records[u],c),_.updatedAt=new Date,!0)}function b(d,u){const c=t.value.find(_=>_.id===d);return!c||u<0||u>=c.records.length?!1:(c.records.splice(u,1),c.updatedAt=new Date,!0)}return{variables:$,tables:t,currentTableId:n,currentTable:a,addVariable:v,updateVariable:y,deleteVariable:p,addTable:D,updateTable:S,deleteTable:k,selectTable:A,addField:I,updateField:N,deleteField:r,addRecord:s,updateRecord:l,deleteRecord:b,initDemoData:o}}),se={class:"data-toolbar"},de={class:"toolbar-right"},oe={class:"btn-group"},ie=w({__name:"DataToolbar",emits:["addVariable","addTable","import","export"],setup($){return(t,n)=>(f(),m("div",se,[n[8]||(n[8]=e("div",{class:"toolbar-left"},[e("h2",null,"æ•°æ®ç®¡ç†")],-1)),e("div",de,[e("button",{class:"btn btn-primary",onClick:n[0]||(n[0]=o=>t.$emit("addVariable"))},n[4]||(n[4]=[e("span",{class:"icon"},"ðŸ“Š",-1),R(" æ·»åŠ å˜é‡ ",-1)])),e("button",{class:"btn btn-primary",onClick:n[1]||(n[1]=o=>t.$emit("addTable"))},n[5]||(n[5]=[e("span",{class:"icon"},"ðŸ—ƒï¸",-1),R(" æ·»åŠ æ•°æ®è¡¨ ",-1)])),e("div",oe,[e("button",{class:"btn btn-secondary",onClick:n[2]||(n[2]=o=>t.$emit("import"))},n[6]||(n[6]=[e("span",{class:"icon"},"ðŸ“¥",-1),R(" å¯¼å…¥ ",-1)])),e("button",{class:"btn btn-secondary",onClick:n[3]||(n[3]=o=>t.$emit("export"))},n[7]||(n[7]=[e("span",{class:"icon"},"ðŸ“¤",-1),R(" å¯¼å‡º ",-1)]))])])]))}}),re=C(ie,[["__scopeId","data-v-f5d0184d"]]),ue={class:"variable-list"},ce={class:"section-header"},pe={class:"count"},be={class:"list-content"},fe=["onClick"],me={class:"variable-info"},ve={class:"variable-name"},$e={class:"variable-type"},_e={class:"variable-value"},ye={class:"variable-actions"},Te=["onClick"],ge=["onClick"],he={key:0,class:"empty-state"},Ve=w({__name:"VariableList",props:{variables:{}},emits:["edit","delete"],setup($){const t=n=>n==null?"":typeof n=="string"?n.length>20?n.substring(0,20)+"...":n:typeof n=="object"?JSON.stringify(n).substring(0,20)+"...":String(n);return(n,o)=>(f(),m("div",ue,[e("div",ce,[o[0]||(o[0]=e("h3",null,"è¿è¡Œæ—¶å˜é‡",-1)),e("span",pe,h(n.variables.length),1)]),e("div",be,[(f(!0),m(q,null,U(n.variables,a=>(f(),m("div",{key:a.id,class:"variable-item",onClick:v=>n.$emit("edit",a.id)},[e("div",me,[e("span",ve,h(a.name),1),e("span",$e,h(a.type),1),e("span",_e,h(t(a.value)),1)]),e("div",ye,[e("button",{class:"action-btn edit",onClick:O(v=>n.$emit("edit",a.id),["stop"]),title:"ç¼–è¾‘å˜é‡"}," âœï¸ ",8,Te),e("button",{class:"action-btn delete",onClick:O(v=>n.$emit("delete",a.id),["stop"]),title:"åˆ é™¤å˜é‡"}," âœ• ",8,ge)])],8,fe))),128)),n.variables.length===0?(f(),m("div",he,o[1]||(o[1]=[e("p",null,"æš‚æ— å˜é‡",-1),e("small",null,'ç‚¹å‡»å·¥å…·æ çš„"æ·»åŠ å˜é‡"æŒ‰é’®åˆ›å»ºç¬¬ä¸€ä¸ªå˜é‡',-1)]))):V("",!0)])]))}}),De=C(Ve,[["__scopeId","data-v-69517b80"]]),ke={class:"table-list"},Re={class:"section-header"},we={class:"count"},Ce={class:"list-content"},Se=["onClick"],Ae={class:"table-info"},Ie={class:"table-name"},Ne={class:"table-meta"},Fe={key:0,class:"table-description"},Ee={class:"table-actions"},qe=["onClick"],Ue=["onClick"],Oe={key:0,class:"empty-state"},Be=w({__name:"TableList",props:{tables:{},currentTableId:{}},emits:["select","edit","delete"],setup($){return(t,n)=>(f(),m("div",ke,[e("div",Re,[n[0]||(n[0]=e("h3",null,"æ•°æ®è¡¨",-1)),e("span",we,h(t.tables.length),1)]),e("div",Ce,[(f(!0),m(q,null,U(t.tables,o=>(f(),m("div",{key:o.id,class:J(["table-item",{active:o.id===t.currentTableId}]),onClick:a=>t.$emit("select",o.id)},[e("div",Ae,[e("span",Ie,h(o.name),1),e("span",Ne,h(o.fields.length)+" å­—æ®µ Â· "+h(o.records.length)+" è®°å½• ",1),o.description?(f(),m("span",Fe,h(o.description),1)):V("",!0)]),e("div",Ee,[e("button",{class:"action-btn edit",onClick:O(a=>t.$emit("edit",o.id),["stop"]),title:"ç¼–è¾‘è¡¨ä¿¡æ¯"}," âœï¸ ",8,qe),e("button",{class:"action-btn delete",onClick:O(a=>t.$emit("delete",o.id),["stop"]),title:"åˆ é™¤æ•°æ®è¡¨"}," âœ• ",8,Ue)])],10,Se))),128)),t.tables.length===0?(f(),m("div",Oe,n[1]||(n[1]=[e("p",null,"æš‚æ— æ•°æ®è¡¨",-1),e("small",null,'ç‚¹å‡»å·¥å…·æ çš„"æ·»åŠ æ•°æ®è¡¨"æŒ‰é’®åˆ›å»ºç¬¬ä¸€ä¸ªæ•°æ®è¡¨',-1)]))):V("",!0)])]))}}),Me=C(Be,[["__scopeId","data-v-9098e31d"]]),Le={class:"data-sidebar"},je=w({__name:"DataSidebar",props:{variables:{},tables:{},currentTableId:{}},emits:["selectTable","editVariable","deleteVariable","editTable","deleteTable"],setup($){return(t,n)=>(f(),m("div",Le,[E(De,{variables:t.variables,onEdit:n[0]||(n[0]=o=>t.$emit("editVariable",o)),onDelete:n[1]||(n[1]=o=>t.$emit("deleteVariable",o))},null,8,["variables"]),E(Me,{tables:t.tables,"current-table-id":t.currentTableId,onSelect:n[2]||(n[2]=o=>t.$emit("selectTable",o)),onEdit:n[3]||(n[3]=o=>t.$emit("editTable",o)),onDelete:n[4]||(n[4]=o=>t.$emit("deleteTable",o))},null,8,["tables","current-table-id"])]))}}),Ge=C(je,[["__scopeId","data-v-f777904a"]]),Je={class:"table-editor"},Pe={class:"table-header"},ze={class:"table-info"},Ke={class:"table-actions"},Xe={class:"fields-section"},Ye={class:"fields-list"},Ze={class:"field-info"},He={class:"field-name"},Qe={class:"field-type"},We={key:0,class:"field-required"},xe={key:1,class:"field-description"},et={class:"field-actions"},tt=["onClick"],nt=["onClick"],lt={key:0,class:"no-fields"},at={class:"form-group"},st={class:"form-group"},dt={class:"form-group"},ot=["type","placeholder"],it={class:"form-group"},rt={class:"form-group"},ut={class:"checkbox-label"},ct={class:"form-actions"},pt={type:"submit",class:"btn btn-primary"},bt=w({__name:"TableEditor",props:{table:{}},emits:["updateTable","addField","updateField","deleteField"],setup($,{emit:t}){const n=$,o=t,a=M(!1),v=M(null),y=P({name:"",description:""}),p=P({name:"",type:T.STRING,required:!1,defaultValue:"",description:""});X(()=>n.table,s=>{s&&(y.name=s.name,y.description=s.description||"")},{immediate:!0});const D=()=>{o("updateTable",{name:y.name,description:y.description})},S=s=>({string:"æ–‡æœ¬",number:"æ•°å­—",boolean:"å¸ƒå°”å€¼",date:"æ—¥æœŸ",json:"JSON"})[s]||s,k=s=>{switch(s){case"number":return"number";case"date":return"date";case"boolean":return"checkbox";default:return"text"}},A=s=>{switch(s){case"string":return"é»˜è®¤æ–‡æœ¬å€¼";case"number":return"0";case"boolean":return"true/false";case"date":return"2024-01-01";case"json":return"{}";default:return""}},I=s=>{v.value=s,p.name=s.name,p.type=s.type,p.required=s.required,p.defaultValue=s.defaultValue||"",p.description=s.description||"",a.value=!0},N=()=>{if(!p.name.trim())return;const s={name:p.name.trim(),type:p.type,required:p.required,defaultValue:p.defaultValue,description:p.description};v.value?o("updateField",v.value.id,s):o("addField",s.name,s.type,s),r()},r=()=>{a.value=!1,v.value=null,p.name="",p.type=T.STRING,p.required=!1,p.defaultValue="",p.description=""};return(s,l)=>(f(),m("div",Je,[e("div",Pe,[e("div",ze,[F(e("input",{"onUpdate:modelValue":l[0]||(l[0]=b=>y.name=b),class:"table-name-input",placeholder:"æ•°æ®è¡¨åç§°",onBlur:D},null,544),[[L,y.name]]),F(e("textarea",{"onUpdate:modelValue":l[1]||(l[1]=b=>y.description=b),class:"table-description-input",placeholder:"æ•°æ®è¡¨æè¿°ï¼ˆå¯é€‰ï¼‰",onBlur:D},null,544),[[L,y.description]])]),e("div",Ke,[e("button",{class:"btn btn-primary",onClick:l[2]||(l[2]=b=>a.value=!0)},l[10]||(l[10]=[e("span",{class:"icon"},"âž•",-1),R(" æ·»åŠ å­—æ®µ ",-1)]))])]),e("div",Xe,[e("h4",null,"å­—æ®µå®šä¹‰ ("+h(s.table.fields.length)+")",1),e("div",Ye,[(f(!0),m(q,null,U(s.table.fields,b=>(f(),m("div",{key:b.id,class:"field-item"},[e("div",Ze,[e("span",He,h(b.name),1),e("span",Qe,h(S(b.type)),1),b.required?(f(),m("span",We,"å¿…å¡«")):V("",!0),b.description?(f(),m("span",xe,h(b.description),1)):V("",!0)]),e("div",et,[e("button",{class:"action-btn edit",onClick:d=>I(b),title:"ç¼–è¾‘å­—æ®µ"}," âœï¸ ",8,tt),e("button",{class:"action-btn delete",onClick:d=>s.$emit("deleteField",b.id),title:"åˆ é™¤å­—æ®µ"}," âœ• ",8,nt)])]))),128)),s.table.fields.length===0?(f(),m("div",lt,l[11]||(l[11]=[e("p",null,"æš‚æ— å­—æ®µå®šä¹‰",-1),e("small",null,'ç‚¹å‡»"æ·»åŠ å­—æ®µ"æŒ‰é’®åˆ›å»ºç¬¬ä¸€ä¸ªå­—æ®µ',-1)]))):V("",!0)])]),a.value?(f(),m("div",{key:0,class:"dialog-overlay",onClick:l[9]||(l[9]=b=>a.value=!1)},[e("div",{class:"dialog",onClick:l[8]||(l[8]=O(()=>{},["stop"]))},[e("h3",null,h(v.value?"ç¼–è¾‘å­—æ®µ":"æ·»åŠ å­—æ®µ"),1),e("form",{onSubmit:O(N,["prevent"])},[e("div",at,[l[12]||(l[12]=e("label",null,"å­—æ®µåç§° *",-1)),F(e("input",{"onUpdate:modelValue":l[3]||(l[3]=b=>p.name=b),type:"text",required:""},null,512),[[L,p.name]])]),e("div",st,[l[14]||(l[14]=e("label",null,"å­—æ®µç±»åž‹ *",-1)),F(e("select",{"onUpdate:modelValue":l[4]||(l[4]=b=>p.type=b)},l[13]||(l[13]=[Z('<option value="string" data-v-44d26004>æ–‡æœ¬ (String)</option><option value="number" data-v-44d26004>æ•°å­— (Number)</option><option value="boolean" data-v-44d26004>å¸ƒå°”å€¼ (Boolean)</option><option value="date" data-v-44d26004>æ—¥æœŸ (Date)</option><option value="json" data-v-44d26004>JSON å¯¹è±¡</option>',5)]),512),[[Y,p.type]])]),e("div",dt,[l[15]||(l[15]=e("label",null,"é»˜è®¤å€¼",-1)),F(e("input",{"onUpdate:modelValue":l[5]||(l[5]=b=>p.defaultValue=b),type:k(p.type),placeholder:A(p.type)},null,8,ot),[[H,p.defaultValue]])]),e("div",it,[l[16]||(l[16]=e("label",null,"å­—æ®µæè¿°",-1)),F(e("input",{"onUpdate:modelValue":l[6]||(l[6]=b=>p.description=b),type:"text",placeholder:"å¯é€‰çš„å­—æ®µè¯´æ˜Ž"},null,512),[[L,p.description]])]),e("div",rt,[e("label",ut,[F(e("input",{"onUpdate:modelValue":l[7]||(l[7]=b=>p.required=b),type:"checkbox"},null,512),[[Q,p.required]]),l[17]||(l[17]=R(" å¿…å¡«å­—æ®µ ",-1))])]),e("div",ct,[e("button",{type:"button",onClick:r},"å–æ¶ˆ"),e("button",pt,h(v.value?"ä¿å­˜":"æ·»åŠ "),1)])],32)])])):V("",!0)]))}}),ft=C(bt,[["__scopeId","data-v-44d26004"]]),mt={class:"record-editor"},vt={class:"records-header"},$t={class:"records-table"},_t={key:0},yt={key:0,class:"required-mark"},Tt={class:"actions-cell"},gt=["onClick"],ht=["onClick"],Vt={key:1,class:"no-fields"},Dt={key:2,class:"no-records"},kt=w({__name:"RecordEditor",props:{fields:{},records:{}},emits:["addRecord","updateRecord","deleteRecord"],setup($,{emit:t}){const n=$,o=t,a=r=>{switch(r){case"boolean":return"input";default:return"input"}},v=r=>{switch(r){case"number":return"number";case"date":return"date";case"boolean":return"checkbox";default:return"text"}},y=r=>["record-input",`input-${r.type}`,{required:r.required}],p=r=>["field-header",`field-${r.type}`,{required:r.required}],D=r=>{if(r.defaultValue!==void 0&&r.defaultValue!==null)return String(r.defaultValue);switch(r.type){case T.STRING:return"è¾“å…¥æ–‡æœ¬...";case T.NUMBER:return"0";case T.DATE:return"é€‰æ‹©æ—¥æœŸ";case T.JSON:return"{}";default:return""}},S=()=>{const r={};n.fields.forEach(s=>{r[s.name]=s.defaultValue??N(s.type)}),o("addRecord",r)},k=(r,s)=>{o("updateRecord",r,s)},A=r=>{confirm("ç¡®å®šè¦åˆ é™¤è¿™æ¡è®°å½•å—ï¼Ÿ")&&o("deleteRecord",r)},I=r=>{const l={...n.records[r]};delete l.id,o("addRecord",l)},N=r=>{switch(r){case T.STRING:return"";case T.NUMBER:return 0;case T.BOOLEAN:return!1;case T.DATE:return new Date().toISOString().split("T")[0];case T.JSON:return{};default:return null}};return(r,s)=>(f(),m("div",mt,[e("div",vt,[e("h4",null,"æ•°æ®è®°å½• ("+h(r.records.length)+")",1),e("button",{class:"btn btn-primary",onClick:S},s[0]||(s[0]=[e("span",{class:"icon"},"âž•",-1),R(" æ·»åŠ è®°å½• ",-1)]))]),e("div",$t,[r.fields.length>0?(f(),m("table",_t,[e("thead",null,[e("tr",null,[(f(!0),m(q,null,U(r.fields,l=>(f(),m("th",{key:l.id,class:J(p(l))},[R(h(l.name)+" ",1),l.required?(f(),m("span",yt,"*")):V("",!0)],2))),128)),s[1]||(s[1]=e("th",{width:"100",class:"actions-header"},"æ“ä½œ",-1))])]),e("tbody",null,[(f(!0),m(q,null,U(r.records,(l,b)=>(f(),m("tr",{key:b,class:"record-row"},[(f(!0),m(q,null,U(r.fields,d=>(f(),m("td",{key:d.id,class:"record-cell"},[(f(),W(x(a(d.type)),{modelValue:l[d.name],"onUpdate:modelValue":u=>l[d.name]=u,type:v(d.type),class:J(y(d)),placeholder:D(d),onBlur:u=>k(b,l),onChange:u=>k(b,l)},null,40,["modelValue","onUpdate:modelValue","type","class","placeholder","onBlur","onChange"]))]))),128)),e("td",Tt,[e("button",{class:"action-btn duplicate",onClick:d=>I(b),title:"å¤åˆ¶è®°å½•"}," ðŸ“‹ ",8,gt),e("button",{class:"action-btn delete",onClick:d=>A(b),title:"åˆ é™¤è®°å½•"}," âœ• ",8,ht)])]))),128))])])):(f(),m("div",Vt,s[2]||(s[2]=[e("div",{class:"empty-icon"},"ðŸ“‹",-1),e("p",null,"è¯·å…ˆæ·»åŠ å­—æ®µå®šä¹‰",-1),e("small",null,'åœ¨ä¸Šæ–¹çš„"å­—æ®µå®šä¹‰"åŒºåŸŸæ·»åŠ å­—æ®µåŽï¼Œå°±å¯ä»¥å¼€å§‹å½•å…¥æ•°æ®äº†',-1)]))),r.fields.length>0&&r.records.length===0?(f(),m("div",Dt,s[3]||(s[3]=[e("div",{class:"empty-icon"},"ðŸ“",-1),e("p",null,"æš‚æ— æ•°æ®è®°å½•",-1),e("small",null,'ç‚¹å‡»"æ·»åŠ è®°å½•"æŒ‰é’®åˆ›å»ºç¬¬ä¸€æ¡è®°å½•',-1)]))):V("",!0)])]))}}),Rt=C(kt,[["__scopeId","data-v-bff71bd8"]]),wt={class:"data-content"},Ct={key:0,class:"empty-state"},St={key:1,class:"content-wrapper"},At=w({__name:"DataContent",props:{currentTable:{}},emits:["updateTable","addField","updateField","deleteField","addRecord","updateRecord","deleteRecord"],setup($,{emit:t}){const n=t,o=(a,v,y)=>{n("addField",a,v)};return(a,v)=>(f(),m("div",wt,[a.currentTable?(f(),m("div",St,[E(ft,{table:a.currentTable,onUpdateTable:v[0]||(v[0]=y=>a.$emit("updateTable",y)),onAddField:o,onUpdateField:v[1]||(v[1]=(y,p)=>a.$emit("updateField",y,p)),onDeleteField:v[2]||(v[2]=y=>a.$emit("deleteField",y))},null,8,["table"]),E(Rt,{fields:a.currentTable.fields,records:a.currentTable.records,onAddRecord:v[3]||(v[3]=y=>a.$emit("addRecord",y)),onUpdateRecord:v[4]||(v[4]=(y,p)=>a.$emit("updateRecord",y,p)),onDeleteRecord:v[5]||(v[5]=y=>a.$emit("deleteRecord",y))},null,8,["fields","records"])])):(f(),m("div",Ct,v[6]||(v[6]=[e("div",{class:"empty-icon"},"ðŸ“Š",-1),e("h3",null,"é€‰æ‹©æ•°æ®è¡¨",-1),e("p",null,"è¯·ä»Žå·¦ä¾§é€‰æ‹©ä¸€ä¸ªæ•°æ®è¡¨å¼€å§‹ç¼–è¾‘",-1)])))]))}}),It=C(At,[["__scopeId","data-v-4ce48af0"]]),Nt={class:"data-view"},Ft={class:"data-main"},Et=w({__name:"DataView",setup($){const t=ae(),{variables:n,tables:o,currentTableId:a,currentTable:v}=ee(t);te(()=>{t.initDemoData()});const y=()=>{const i=prompt("è¯·è¾“å…¥å˜é‡åç§°:");if(i&&i.trim())try{t.addVariable(i.trim(),T.STRING,"")}catch(g){console.error("æ·»åŠ å˜é‡å¤±è´¥:",g),alert("æ·»åŠ å˜é‡å¤±è´¥ï¼Œè¯·é‡è¯•")}},p=()=>{const i=prompt("è¯·è¾“å…¥æ•°æ®è¡¨åç§°:");if(i){const g=t.addTable(i);t.selectTable(g.id)}},D=()=>{console.log("å¯¼å…¥æ•°æ®")},S=()=>{console.log("å¯¼å‡ºæ•°æ®")},k=i=>{console.log("ç¼–è¾‘å˜é‡:",i)},A=i=>{console.log("ç¼–è¾‘è¡¨:",i)},I=i=>{a.value&&t.updateTable(a.value,i)},N=(i,g)=>{a.value&&t.updateField(a.value,i,g)},r=(i,g)=>{a.value&&t.addField(a.value,i,g)},s=i=>{a.value&&t.deleteField(a.value,i)},l=i=>{a.value&&t.addRecord(a.value,i)},b=(i,g)=>{a.value&&t.updateRecord(a.value,i,g)},d=i=>{a.value&&t.deleteRecord(a.value,i)},u=i=>{t.selectTable(i)},c=i=>{t.deleteVariable(i)},_=i=>{t.deleteTable(i)};return(i,g)=>(f(),m("div",Nt,[E(re,{onAddVariable:y,onAddTable:p,onImport:D,onExport:S}),e("div",Ft,[E(Ge,{variables:j(n),tables:j(o),"current-table-id":j(a),onSelectTable:u,onEditVariable:k,onDeleteVariable:c,onEditTable:A,onDeleteTable:_},null,8,["variables","tables","current-table-id"]),E(It,{"current-table":j(v),onUpdateTable:I,onAddField:r,onUpdateField:N,onDeleteField:s,onAddRecord:l,onUpdateRecord:b,onDeleteRecord:d},null,8,["current-table"])])]))}}),Ut=C(Et,[["__scopeId","data-v-6684b2df"]]);export{Ut as default};
