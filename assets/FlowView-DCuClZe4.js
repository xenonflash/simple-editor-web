import{d as k,b8 as v,b9 as t,at as C,aT as W,bl as _,ba as f,bm as w,g as y,w as E,bd as m,bk as S,bb as N,bf as h}from"./index-BJvnKjiT.js";import{F as $}from"./FlowCanvas-ysg9u32I.js";const I={class:"left-panel"},F={class:"node-list"},z=["onClick","onDragstart"],D={class:"icon"},P={class:"name"},R=k({__name:"FlowNodePanel",props:{nodes:{},edges:{}},emits:["addNode"],setup(x,{emit:p}){const u=p,i=[{icon:"ğŸš€",name:"å¼€å§‹èŠ‚ç‚¹",type:"input",style:{background:"#667eea",border:"none",borderRadius:"12px",color:"white",fontSize:"13px",fontWeight:"500",boxShadow:"0 2px 8px rgba(102, 126, 234, 0.2)"}},{icon:"âš™ï¸",name:"å¤„ç†èŠ‚ç‚¹",type:"default",style:{background:"#f093fb",border:"none",borderRadius:"8px",color:"white",fontSize:"13px",fontWeight:"500",boxShadow:"0 2px 8px rgba(240, 147, 251, 0.2)"}},{icon:"â“",name:"åˆ¤æ–­èŠ‚ç‚¹",type:"decision",style:{background:"#4facfe",border:"none",borderRadius:"50%",color:"white",fontSize:"13px",fontWeight:"500",width:"100px",height:"100px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(79, 172, 254, 0.2)"}},{icon:"ğŸ",name:"ç»“æŸèŠ‚ç‚¹",type:"output",style:{background:"#51cf66",border:"none",borderRadius:"12px",color:"white",fontSize:"13px",fontWeight:"500",boxShadow:"0 2px 8px rgba(81, 207, 102, 0.2)"}},{icon:"ğŸ¯",name:"è‡ªå®šä¹‰èŠ‚ç‚¹",type:"custom",data:{icon:"ğŸ¯",status:"info",progress:50},style:{}},{icon:"ğŸ“",name:"è¡¨å•èŠ‚ç‚¹",type:"form",data:{fields:[{name:"å­—æ®µå",type:"text",value:"é»˜è®¤å€¼"},{name:"é€‰é¡¹",type:"select",value:"é€‰é¡¹1",options:["é€‰é¡¹1","é€‰é¡¹2","é€‰é¡¹3"]}]},style:{}}],n=l=>{const c={type:l.type,data:{label:l.name,description:`æ–°å»ºçš„${l.name}`,...l.data},style:l.style};u("addNode",c)},a=(l,c)=>{l.dataTransfer&&(l.dataTransfer.setData("application/vueflow",JSON.stringify(c)),l.dataTransfer.effectAllowed="move")};return(l,c)=>(f(),v("div",I,[c[0]||(c[0]=t("div",{class:"panel-title"},"æµç¨‹èŠ‚ç‚¹",-1)),t("div",F,[(f(),v(C,null,W(i,r=>t("div",{key:r.type,class:"node-item",draggable:"true",onClick:s=>n(r),onDragstart:s=>a(s,r)},[t("div",D,_(r.icon),1),t("div",P,_(r.name),1)],40,z)),64))])]))}}),V=w(R,[["__scopeId","data-v-90873991"]]),A={class:"properties-panel"},B={class:"panel-content"},U={class:"tabs"},j={key:0,class:"tab-content"},L={key:0,class:"section"},J={class:"section-content"},O={class:"property-row"},q=["value"],G={class:"property-row"},H=["value"],K={class:"property-row"},M=["value"],Q={class:"property-row"},X=["value"],Y={key:1,class:"section"},Z={class:"section-content"},T={class:"property-row"},ee=["value"],te={class:"property-row"},oe=["value"],se={class:"property-row"},ae=["value"],le={key:2,class:"section"},re={key:1,class:"tab-content"},ne={class:"section"},de={class:"section-content"},ie={class:"property-row"},pe=["value"],ce=k({__name:"FlowPropertiesPanel",props:{selectedNode:{},selectedEdge:{}},emits:["update"],setup(x,{emit:p}){const u=x,i=p,n=y("node"),a=y({id:"",label:"",type:"default",description:"",backgroundColor:"#ffffff",borderColor:"#000000",borderWidth:2});E(()=>u.selectedNode,s=>{var e,o,d,b,g;s&&(a.value={id:s.id||"",label:((e=s.data)==null?void 0:e.label)||"",type:s.type||"default",description:((o=s.data)==null?void 0:o.description)||"",backgroundColor:((d=s.style)==null?void 0:d.background)||"#ffffff",borderColor:l((b=s.style)==null?void 0:b.border)||"#000000",borderWidth:c((g=s.style)==null?void 0:g.border)||2})},{immediate:!0});const l=s=>{if(!s)return"#000000";const e=s.match(/#[0-9a-fA-F]{6}|#[0-9a-fA-F]{3}/);return e?e[0]:"#000000"},c=s=>{if(!s)return 2;const e=s.match(/\d+/);return e?parseInt(e[0]):2},r=(s,e)=>{var d,b;a.value[s]=e;const o={data:{...(d=u.selectedNode)==null?void 0:d.data,label:a.value.label,description:a.value.description},style:{...(b=u.selectedNode)==null?void 0:b.style,background:a.value.backgroundColor,border:`${a.value.borderWidth}px solid ${a.value.borderColor}`}};s==="type"&&(o.type=e),i("update",o)};return(s,e)=>(f(),v("div",A,[t("div",B,[t("div",U,[t("button",{class:S(["tab-button",{active:n.value==="node"}]),onClick:e[0]||(e[0]=o=>n.value="node")}," èŠ‚ç‚¹å±æ€§ ",2),t("button",{class:S(["tab-button",{active:n.value==="flow"}]),onClick:e[1]||(e[1]=o=>n.value="flow")}," æµç¨‹é…ç½® ",2)]),n.value==="node"?(f(),v("div",j,[s.selectedNode?(f(),v("div",L,[e[13]||(e[13]=t("div",{class:"section-header"},[t("span",null,"å½“å‰é€‰ä¸­")],-1)),t("div",J,[t("div",O,[e[8]||(e[8]=t("label",{class:"property-label"},"èŠ‚ç‚¹ID",-1)),t("input",{type:"text",value:a.value.id,readonly:""},null,8,q)]),t("div",G,[e[9]||(e[9]=t("label",{class:"property-label"},"èŠ‚ç‚¹æ ‡ç­¾",-1)),t("input",{type:"text",value:a.value.label,onInput:e[2]||(e[2]=o=>r("label",o.target.value))},null,40,H)]),t("div",K,[e[11]||(e[11]=t("label",{class:"property-label"},"èŠ‚ç‚¹ç±»å‹",-1)),t("select",{value:a.value.type,onChange:e[3]||(e[3]=o=>r("type",o.target.value))},e[10]||(e[10]=[t("option",{value:"input"},"å¼€å§‹èŠ‚ç‚¹",-1),t("option",{value:"default"},"å¤„ç†èŠ‚ç‚¹",-1),t("option",{value:"decision"},"åˆ¤æ–­èŠ‚ç‚¹",-1),t("option",{value:"output"},"ç»“æŸèŠ‚ç‚¹",-1)]),40,M)]),t("div",Q,[e[12]||(e[12]=t("label",{class:"property-label"},"æè¿°",-1)),t("textarea",{rows:"3",value:a.value.description,onInput:e[4]||(e[4]=o=>r("description",o.target.value)),placeholder:"èŠ‚ç‚¹æè¿°ä¿¡æ¯..."},null,40,X)])])])):m("",!0),s.selectedNode?(f(),v("div",Y,[e[17]||(e[17]=t("div",{class:"section-header"},[t("span",null,"æ ·å¼è®¾ç½®")],-1)),t("div",Z,[t("div",T,[e[14]||(e[14]=t("label",{class:"property-label"},"èƒŒæ™¯é¢œè‰²",-1)),t("input",{type:"color",value:a.value.backgroundColor,onInput:e[5]||(e[5]=o=>r("backgroundColor",o.target.value))},null,40,ee)]),t("div",te,[e[15]||(e[15]=t("label",{class:"property-label"},"è¾¹æ¡†é¢œè‰²",-1)),t("input",{type:"color",value:a.value.borderColor,onInput:e[6]||(e[6]=o=>r("borderColor",o.target.value))},null,40,oe)]),t("div",se,[e[16]||(e[16]=t("label",{class:"property-label"},"è¾¹æ¡†å®½åº¦",-1)),t("input",{type:"number",value:a.value.borderWidth,onInput:e[7]||(e[7]=o=>r("borderWidth",parseInt(o.target.value))),min:"1",max:"10"},null,40,ae)])])])):m("",!0),s.selectedNode?m("",!0):(f(),v("div",le,e[18]||(e[18]=[t("div",{class:"section-content"},[t("p",{class:"no-selection"},"è¯·é€‰æ‹©ä¸€ä¸ªèŠ‚ç‚¹æˆ–è¿çº¿")],-1)])))])):m("",!0),n.value==="flow"?(f(),v("div",re,[t("div",ne,[e[21]||(e[21]=t("div",{class:"section-header"},[t("span",null,"æµç¨‹è®¾ç½®")],-1)),t("div",de,[e[20]||(e[20]=N('<div class="property-row" data-v-254e63e5><label class="property-label" data-v-254e63e5>æµç¨‹åç§°</label><input type="text" value="ç”¨æˆ·æ³¨å†Œæµç¨‹" data-v-254e63e5></div><div class="property-row" data-v-254e63e5><label class="property-label" data-v-254e63e5>æµç¨‹ç‰ˆæœ¬</label><input type="text" value="1.0.0" data-v-254e63e5></div>',2)),t("div",ie,[e[19]||(e[19]=t("label",{class:"property-label"},"åˆ›å»ºæ—¶é—´",-1)),t("input",{type:"text",value:new Date().toLocaleDateString(),readonly:""},null,8,pe)])])])])):m("",!0)])]))}}),ue=w(ce,[["__scopeId","data-v-254e63e5"]]),be={class:"flow-container"},ve={class:"flow-main"},fe=k({__name:"FlowView",setup(x){const p=y([{id:"start",type:"input",position:{x:100,y:50},data:{label:"å¼€å§‹ï¼šç”¨æˆ·æ³¨å†Œæµç¨‹",description:"ç”¨æˆ·è®¿é—®æ³¨å†Œé¡µé¢"},style:{background:"#667eea",border:"none",borderRadius:"12px",color:"white",fontSize:"13px",fontWeight:"500",padding:"12px 16px",boxShadow:"0 2px 8px rgba(102, 126, 234, 0.2)"}},{id:"userForm",type:"form",position:{x:100,y:180},data:{label:"ç”¨æˆ·ä¿¡æ¯è¡¨å•",fields:[{name:"ç”¨æˆ·å",type:"text",value:""},{name:"é‚®ç®±",type:"text",value:""},{name:"ç”¨æˆ·ç±»å‹",type:"select",value:"æ™®é€šç”¨æˆ·",options:["æ™®é€šç”¨æˆ·","VIPç”¨æˆ·","ä¼ä¸šç”¨æˆ·"]},{name:"å¹´é¾„",type:"number",value:18}]}},{id:"validation",type:"custom",position:{x:400,y:180},data:{label:"æ•°æ®éªŒè¯",description:"éªŒè¯ç”¨æˆ·è¾“å…¥çš„ä¿¡æ¯æ ¼å¼å’Œå®Œæ•´æ€§",icon:"ğŸ”",status:"info",progress:0}},{id:"decision",type:"decision",position:{x:400,y:350},data:{label:"éªŒè¯é€šè¿‡ï¼Ÿ",description:"æ£€æŸ¥æ•°æ®æ˜¯å¦ç¬¦åˆè¦æ±‚"},style:{background:"#4facfe",border:"none",borderRadius:"50%",color:"white",fontSize:"13px",fontWeight:"500",width:"100px",height:"100px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(79, 172, 254, 0.2)"}},{id:"database",type:"custom",position:{x:600,y:280},data:{label:"ä¿å­˜åˆ°æ•°æ®åº“",description:"å°†ç”¨æˆ·ä¿¡æ¯å­˜å‚¨åˆ°æ•°æ®åº“ä¸­",icon:"ğŸ’¾",status:"success",progress:100}},{id:"emailConfig",type:"form",position:{x:600,y:450},data:{label:"é‚®ä»¶å‘é€é…ç½®",fields:[{name:"é‚®ä»¶æ¨¡æ¿",type:"select",value:"æ¬¢è¿é‚®ä»¶",options:["æ¬¢è¿é‚®ä»¶","éªŒè¯é‚®ä»¶","é€šçŸ¥é‚®ä»¶"]},{name:"å‘é€å»¶è¿Ÿ(ç§’)",type:"number",value:0},{name:"é‚®ä»¶å†…å®¹",type:"textarea",value:"æ¬¢è¿åŠ å…¥æˆ‘ä»¬çš„å¹³å°ï¼"}]}},{id:"sendEmail",type:"custom",position:{x:800,y:350},data:{label:"å‘é€æ¬¢è¿é‚®ä»¶",description:"å‘ç”¨æˆ·å‘é€æ³¨å†ŒæˆåŠŸçš„æ¬¢è¿é‚®ä»¶",icon:"ğŸ“§",status:"warning",progress:75}},{id:"error",type:"custom",position:{x:200,y:450},data:{label:"é”™è¯¯å¤„ç†",description:"å¤„ç†éªŒè¯å¤±è´¥çš„æƒ…å†µ",icon:"âŒ",status:"error",progress:0}},{id:"end",type:"output",position:{x:800,y:550},data:{label:"æ³¨å†Œå®Œæˆ",description:"ç”¨æˆ·æ³¨å†Œæµç¨‹æˆåŠŸå®Œæˆ"},style:{background:"#51cf66",border:"none",borderRadius:"12px",color:"white",fontSize:"13px",fontWeight:"500",padding:"12px 16px",boxShadow:"0 2px 8px rgba(81, 207, 102, 0.2)"}}]),u=y([{id:"e1",source:"start",target:"userForm",animated:!0,style:{stroke:"#667eea",strokeWidth:2},markerEnd:{type:"arrowclosed",color:"#667eea"}},{id:"e2",source:"userForm",target:"validation",style:{stroke:"#faad14",strokeWidth:2},markerEnd:{type:"arrowclosed",color:"#faad14"}},{id:"e3",source:"validation",target:"decision",style:{stroke:"#f093fb",strokeWidth:2},markerEnd:{type:"arrowclosed",color:"#f093fb"}},{id:"e4",source:"decision",target:"database",label:"éªŒè¯é€šè¿‡",style:{stroke:"#51cf66",strokeWidth:2},labelStyle:{fill:"#51cf66",fontWeight:"500",fontSize:"12px"},markerEnd:{type:"arrowclosed",color:"#51cf66"}},{id:"e5",source:"database",target:"emailConfig",style:{stroke:"#f093fb",strokeWidth:2},markerEnd:{type:"arrowclosed",color:"#f093fb"}},{id:"e6",source:"emailConfig",target:"sendEmail",style:{stroke:"#faad14",strokeWidth:2},markerEnd:{type:"arrowclosed",color:"#faad14"}},{id:"e7",source:"sendEmail",target:"end",style:{stroke:"#51cf66",strokeWidth:2},markerEnd:{type:"arrowclosed",color:"#51cf66"}},{id:"e8",source:"decision",target:"error",label:"éªŒè¯å¤±è´¥",type:"smoothstep",style:{stroke:"#ff6b6b",strokeWidth:2,strokeDasharray:"6,3"},labelStyle:{fill:"#ff6b6b",fontWeight:"500",fontSize:"12px"},markerEnd:{type:"arrowclosed",color:"#ff6b6b"}},{id:"e9",source:"error",target:"userForm",label:"é‡æ–°å¡«å†™",type:"smoothstep",style:{stroke:"#ff6b6b",strokeWidth:2,strokeDasharray:"3,3"},labelStyle:{fill:"#ff6b6b",fontWeight:"500",fontSize:"12px"},markerEnd:{type:"arrowclosed",color:"#ff6b6b"}}]),i=y(null),n=y(null),a=(o,d)=>{const b=p.value.findIndex(g=>g.id===o);b!==-1&&(p.value[b]={...p.value[b],...d})},l=o=>{const d={...o,id:`node_${Date.now()}`,position:o.position||{x:200,y:200}};p.value.push(d)},c=o=>{const d={...o,id:`edge_${Date.now()}`,style:{stroke:"#667eea",strokeWidth:2},markerEnd:{type:"arrowclosed",color:"#667eea"}};u.value.push(d)},r=o=>{i.value=o,n.value=null},s=o=>{n.value=o,i.value=null},e=o=>{i.value&&(a(i.value.id,o),i.value={...i.value,...o})};return(o,d)=>(f(),v("div",be,[h(V,{nodes:p.value,edges:u.value,onAddNode:l},null,8,["nodes","edges"]),t("div",ve,[h($,{nodes:p.value,edges:u.value,onNodeSelect:r,onEdgeSelect:s,onAddEdge:c,onUpdateNode:a,onAddNode:l},null,8,["nodes","edges"])]),h(ue,{"selected-node":i.value,"selected-edge":n.value,onUpdate:e},null,8,["selected-node","selected-edge"])]))}}),ge=w(fe,[["__scopeId","data-v-4d4c12fd"]]);export{ge as default};
